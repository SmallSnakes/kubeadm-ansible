firewalld_disabled: true
timezone: Asia/Shanghai
use_domain_name_deploy: true
custom_hosts:
  "172.18.28.193":
  - kunlun.cluster.local
api_interface: ens3
harbor_address: 172.18.31.155
harbor_username: admin
harbor_password: Harbor12345
docker_register_secrets_name: docker-register-secrets

####################
# Kubernetes options
####################
kubernetes_domain_name: kunlun.cluster.local
kubernetes_version: 1.23.5
kube_apiserver_vip: 172.18.28.193
kube_apiserver_port: 8443
kube_image_repository: 172.18.31.155/kubernetes
kube_image_tag: latest
kubelet_cgroup_driver: systemd
kube_proxy_mode: ipvs
kubelet_root_dir: "/var/lib/kubelet"
wait_plugins_ready: false
docker_storage_dir: "/var/lib/docker"
kube_pod_subnet: 10.244.0.0/16
kube_dns_domain: cluster.local
flannel_backend: "host-gw"
# Pod根容器
pod_infra_container_image: "{{ kube_image_repository }}/pause:3.6"
kubeadm_token: ceky52.rec2keii98oke7sl
# 节点的角色名称，默认values为enabled
control_node_role_name: control_role
compute_node_role_name: compute_role
storage_node_role_name: storage_role
node_role_value: enabled

##############
# Helm options
##############
helm_install_namespace: default
helm_charts_dir: /opt/helm-charts

#################
# Haproxy options
#################
# 使用haproxy进行apiserver负载时使用的haproxy镜像
# haproxy监控绑定端口
lb_haproxy_stats_bind_address: 1984
# haproxy监控访问路径
lb_haproxy_stats_uri: "/stats"
# haproxy监控自动刷新时间（秒）
lb_haproxy_stats_refresh: 15
# haproxy监控用户名
lb_haproxy_stats_user: "admin"
# haproxy监控用户密码
lb_haproxy_stats_password: "admin"
# haproxy负载均衡算法，常见如下：
# "roundrobin": 基于服务器权重的轮询
# "leastconn": 基于服务器最小连接数
# "source": 基于请求源IP地址
# "uri": 基于请求的URI
lb_haproxy_balance_alg: "roundrobin"

####################
# Keepalived options
####################
# keepalived auth_type 的 password
lb_keepalived_password: "d0cker"
# 区分多个 instance 的 VRRP 组播，同网段不能重复，取值在0-255之间
lb_keepalived_router_id: 222
# 负载均衡器健康检查端口
lb_kube_apiserver_healthcheck_port: 8089

##############
# Etcd options
##############
# Etcd 数据根目录
etcd_data_dir: "/var/lib/etcd"
# Etcd 每日备份时间，默认3，即凌晨3点，取值范围0-23
etcd_backup_hour: "3"
# Etcd 每日备份文件保留时长，默认7天
etcd_backup_expiry: "7"
# etcd 备份目录
etcd_backup_dir: "/var/lib/etcd/backup"

##################
# Ceph csi Options
##################
# kubernetes ceph csi
install_ceph_rbd_csi: true
create_rbd_storage_class: true
rbd_storage_class_name: general
rbd_service_port: 9081
rbd_check_port: 9082
install_ceph_cephfs_csi: true
create_cephfs_storage_class: true
cephfs_check_port: 9083
cephfs_service_port: 9084
cephfs_storage_class_name: cephfs-general

#################
# Ingress Options
#################
ingress_class_name: nginx
ingress_controller_class: "k8s.io/ingress-nginx"

#################
# Libvirt Options
#################
ceph_rbd_secret_uuid: e2338e01-6f82-4236-885b-056847028c77
ceph_rbd_admin_user: client.admin

###################
# Trochilus Options
###################
trochilus_support_flat_network: true
trochilus_flat_network_nic: ""
trochilus_support_vlan_network: false
trochilus_network_vlan_range: 100:1000
trochilus_vlan_network_nic: ""
trochilus_libvirt_driver: qemu
trochilus_api_listen_port: 9001
trochilus_agent_listen_port: 9002

#################
# Mariadb Options
#################
mariadb_root_password: 123456
mariadb_trochilus_password: 123456
mariadb_storage_size: 10Gi
mariadb_toleration_seconds: 10
mariadb_pvc_name: mariadb-pvc

####################
# Prometheus Options
####################
# 数据存放目录，需挂载共享存储
prometheus_alert_rule_dir: /opt/prometheus/rules
prometheus_query_port: 9003
prometheus_server_port: 9004
thanos_sidecar_http_port: 19092
thanos_sidecar_grpc_port: 19091
prometheus_alertmanager_port: 9005
prometheus_alertmanager_cluster_port: 9094
prometheus_pushgateway_port: 9091
prometheus_node_exporter_port: 9100
prometheus_collectd_exporter_port: 9103
prometheus_collectd_udp_port: 25826
prometheus_host_exporter_port: 9104

##############
# Java Options
##############
java_webhook_port: 9030
java_webhook_token: abc123

#######################
# elasticsearch Options
#######################
es_storage_size: 10Gi
es_http_port: 9200
es_data_save_days: 3
## At 01:00 every day
es_date_del_time: "0 1 * * *"

#################
# kibana Options
#################
kibana_node_port: 32000

################
# emqx Options
################
emqx_pod_pullPolicy: IfNotPresent
emqx_svc_type: ClusterIP
emqx_persistence: true
emqx_persistence_accessMode: ReadWriteOnce
emqx_persistence_size: 20Mi
emqx_persistence_storageClass: "{{ rbd_storage_class_name }}"
emqx_hostnetwork: true


#################
# role开关
#################
enable_baremetal: false
enable_load_balancer: false
enable_kube_master: false
enable_kube_worker: false
enable_ingress: false
enable_ceph_csi: false
enable_mariadb: false
enable_redis: false
enable_emqx: false
enable_libvirt: false
enable_trochilus: false
enable_prometheus: false
enable_java: false
enable_btserver: true
enable_elasticsearch: false
enable_fluentd: false
enable_kibana: false
enable_websockify: true

################
# Redis Options
################
redis_storage_size: 10Gi
redis_master_password: zhuolang@Troila@123
redis_master_group_name: mycluster
redis_server_port: 6379
redis_sentinel_port: 26379
redis_host_network: true

####################
# websockify Options
####################
websockify_port: 56666


#######################
# btserver
#######################
k8s_virt_ip: "{{ kube_apiserver_vip }}"
k8s_virt_port: "{{ kube_apiserver_port }}"
btserver_image_tag: "{{ kube_image_tag }}"
btserver_image_repository: "{{ kube_image_repository }}/btserver"
btserver_image_repository_track: "{{ kube_image_repository }}/btserver_track"
btserver_pod_replicaCount: 2
btserver_pod_pullPolicy: "IfNotPresent"
btserver_svc_type: "ClusterIP"
#btserver_persistence: "{{ btserver_persistence | bool }}"
#btserver_persistence_accessMode: "{{ btserver_persistence_accessMode }}"
#btserver_persistence_size: "{{ btserver_persistence_size }}"
#btserver_persistence_storageClass: "{{ btserver_persistence_storageClass }}"
btserver_hostnetwork: "yes"
btserver_containers_name_track: btserver-track
